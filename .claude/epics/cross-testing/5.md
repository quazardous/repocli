---
name: Implement GitHub Provider Tests
status: open
created: 2025-08-25T09:00:28Z
updated: 
github: https://github.com/quazardous/repocli/issues/5
depends_on: [3, 4]
parallel: true
conflicts_with: []
---

# Task: Implement GitHub Provider Tests

## Description
Create minimal "hello world" validation tests for GitHub provider since it's a lightweight 1:1 passthrough wrapper to `gh` CLI. Focus on basic connectivity verification and establishing that the wrapper doesn't break the underlying `gh` functionality.

‚ö†Ô∏è **READ-ONLY TESTING**: All GitHub tests MUST use read-only operations on public repositories. No authentication or user account access required.

‚ö†Ô∏è **LIGHTWEIGHT APPROACH**: Since GitHub provider is just `exec gh "$@"`, we only need to verify the wrapper doesn't interfere with basic operations.

## Acceptance Criteria
- [ ] Basic wrapper test: `repocli --version` returns GitHub CLI version
- [ ] Simple command passthrough: `repocli auth status` works (even if not authenticated)
- [ ] Public repository access: `repocli issue list --repo microsoft/vscode --limit 1`
- [ ] JSON output passthrough: Verify `--json` flag works through wrapper  
- [ ] Error passthrough: Invalid commands show proper `gh` error messages
- [ ] Test execution time under 5 seconds total (very lightweight)

## Technical Details
- **Implementation approach**: Simple bash test functions - just verify wrapper transparency
- **Key considerations**: Ultra-minimal testing since GitHub is pure passthrough (`exec gh "$@"`)
- **Code locations/files affected**:
  - `tests/cross-testing/lib/github-tests.sh` (new, very simple)
  - Basic GitHub provider configuration test

## Implementation Strategy

### Hello World Test Suite
```bash
# tests/cross-testing/lib/github-tests.sh
test_github_wrapper_basic() {
    echo "Testing GitHub wrapper basic functionality..."
    
    # Test 1: Version passthrough
    local version_output=$(repocli --version 2>&1)
    if echo "$version_output" | grep -q "gh version"; then
        echo "‚úÖ Version command passthrough working"
    else
        echo "‚ùå Version command failed: $version_output"
        return 1
    fi
    
    # Test 2: Auth status (works even without auth)
    local auth_output=$(repocli auth status 2>&1)
    # Should get either logged in status or "not logged in" - both are valid
    echo "‚úÖ Auth status passthrough working: $(echo "$auth_output" | head -1)"
    
    # Test 3: Public repo access
    local issue_output=$(repocli issue list --repo microsoft/vscode --limit 1 --json number 2>&1)
    if echo "$issue_output" | grep -q -E '\[.*\]|\[\]'; then
        echo "‚úÖ Public repository access working"
    else
        echo "‚ùå Public repo access failed: $issue_output"
        return 1
    fi
    
    echo "üéâ GitHub wrapper hello world tests passed"
}

# That's it - GitHub provider needs minimal testing
```

## Dependencies
- [ ] Task 3: Environment isolation utilities (for provider config)
- [ ] `gh` CLI tool installed and functional
- [ ] Internet connectivity to GitHub.com (for public repo test)

## Effort Estimate
- Size: XS (tr√®s simple)
- Hours: 2-3 hours maximum
- Parallel: true (independent of other tests)

## Definition of Done
- [ ] Basic wrapper passthrough verified (version, auth, public repo)
- [ ] JSON output works through wrapper
- [ ] Error messages pass through unchanged
- [ ] No complex logic needed - just verify transparency
- [ ] Tests run in under 5 seconds total
